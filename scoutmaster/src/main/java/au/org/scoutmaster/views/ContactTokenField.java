package au.org.scoutmaster.views;import org.vaadin.tokenfield.TokenField;import au.org.scoutmaster.domain.Contact;import au.org.scoutmaster.domain.Tag;import au.org.scoutmaster.filter.EntityManagerProvider;import com.vaadin.addon.jpacontainer.JPAContainer;import com.vaadin.addon.jpacontainer.JPAContainerFactory;public class ContactTokenField extends TokenField{	private static final long serialVersionUID = 1L;	private JPAContainer<Tag> tagContainer;		public ContactTokenField()	{		super("Add tags");		tagContainer = JPAContainerFactory.make(Tag.class, EntityManagerProvider.INSTANCE.getEntityManager());		this.setStyleName(TokenField.STYLE_BUTTON_EMPHAZISED);		// TODO: is this where we get the set of existing tokens?		this.setInputPrompt("");		setContainerDataSource(tagContainer);	}	@Override	protected void onTokenInput(Object tokenId)	{		String[] tokens = ((String) tokenId).split(",");		for (String token : tokens)		{			token = token.trim();			if (token.length() > 0)			{								super.onTokenInput(token);			}		}	}	@Override	protected void rememberToken(String tokenId)	{		String[] tokens = ((String) tokenId).split(",");		for (String token : tokens)		{			token = token.trim();			if (token.length() > 0)			{				super.rememberToken(token);			}		}	}}